# vim编辑器

* [返回上层目录](../linux.md)



# tab多标签切换

**新建标签页**

使用**:tab**命令和文件名参数，可以在新标签页中打开指定的文件。也可以使用:tabnew命令，在新标签页中编辑新的文件。命令:tab split将在新标签页中，打开当前缓冲区中的文件。

命令:tabf允许你在当前目录搜索文件，并在新标签页中打开。比如我想打开当前目录下的img.txt文件，那么就可以使用:tabf img.*命令。请注意，此命令只能打开一个文件，如果搜索出多个匹配文件，将提示你“文件名过多”，这时你需要给出更精确的搜索条件以打开文件。

Vim默认最多只能打开10个标签页。你可以用set tabpagemax=15改变这个限制。

**列示标签页**

命令:tabs可以显示已打开标签页的列表，并用“>”标识出当前页面，用“+”标识出已更改的页面。

**关闭标签页**

命令**:tabc**可以关闭当前标签页。而命令:tabo将关闭所有的标签页。

**切换标签页**

命令:tabn或**gt**可以移动到下一个标签页。而命令:tabp或**gT**将移动到上一个标签页。如果已经到达最后面或最前面的标签页，将会自动转向循环。

**移动标签页**

如果你希望按照指定的次序排列标签页，那么你可以使用:tabm命令。请注意，标签页次序是从0开始计数的。比如命令:tabm 1将把当前标签页移动到第2的位置。如果你没有为:tabm命令指定参数，那么当前标签页将会被移动到最后。

**配置标签页**

默认情况下，只有用户新建了标签页才会在窗口上方显示标签栏，这是由选项set showtabline=1决定的。如果我们希望总是显示标签栏，那么可以用set showtabline=2命令来设置。如果我们希望完全不显示标签栏，那么可以使用set showtabline=0来设置。

**多标签页命令**

使用:tabdo命令，我们可以同时在多个标签页中执行命令。比如我们打开了多个标签页，需要把这些文件中的“food”都替换成“drink”，那么就可以使用:tabdo %s/food/drink/g命令，一次完成对所有文件的替换操作，而不用针对每个文件重复操作。

**图形界面**

如果你使用的是带有图形界面的gVim，那么新建、关闭和打开标签页的操作，都可以通过在标签页上右击鼠标完成。只需要点击相应标签，就可以在不同的标签页间切换。

通过:help tab-page-intro命令，可以获得关于标签页使用的更多信息。

**命令小结**

| `:tabnew`   | 新建标签页             |
| ----------- | ---------------------- |
| `:tabs`     | 显示已打开标签页的列表 |
| `:tabc`     | 关闭当前标签页         |
| `:tabn`     | 移动到下一个标签页     |
| `:tabp`     | 移动到上一个标签页     |
| `:tabfirst` | 移动到第一个标签页     |
| `:tablast`  | 移动到最后一个标签页   |



参考资料：[vim-tabe多标签切换](https://www.cnblogs.com/liqiu/archive/2013/03/26/2981949.html)



# 显示不可见字符

在Linux中，`cat -A file`可以把文件中的所有可见的和不可见的字符都显示出来，在Vim中，如何将不可见字符也显示出来呢？

只需要`:set invlist`即可以将不可见的字符显示出来，例如，会以`^I`表示一个tab符，`$`表示一个回车符等。

最后，`:set nolist`可以回到正常的模式。



参考资料：[Vim中显示不可见字符](http://yejinxin.github.io/show-nonprinting-character-in-vim)



# 跳转

## 行内跳转

### 快速移动光标至行首和行尾

* 移动光标至行首：`Shift+6`或者`Home`

  需要按行快速移动光标时，可以使用键盘上的编辑键Home，快速将光标移动至当前行的行首。除此之外，也可以在命令模式中使用快捷键"^"（即Shift+6）或**0（数字0）**。

* 移动光标至行尾：`Shift+4`或者`End`

  如果要快速移动光标至当前行的行尾，可以使用编辑键End。也可以在命令模式中使用**快捷键"\$"（Shift+4）**。与快捷键"^"和0不同，快捷键"\$"前可以加上数字表示移动的行数。例如使用"1\$"表示当前行的行尾，"2\$"表示当前行的下一行的行尾。



参考资料：[Vim快速移动光标至行首和行尾](https://blog.csdn.net/Miss_Mario/article/details/45915151)

## 行间跳转

### 跳到第一行和最后一行

跳到第一行：`gg`

跳到最后一行：`shift+g`即`G`

### 跳转到指定的行

命令行模式下输入（n为指定的行号）：

（1）**ngg / nG**

（2）**:n**

（3）**vim +n filename**（注意这里要输入 **+** 号）

三者的区别在于，ngg/nG输入以后不需要按下回车键，而输入:n之后还要按下回车键才会跳转，vim +n filename只能在打开文件时跳转到相应的行。

比如想跳转到文本的第12行，可以执行如下命令：

（1）12gg / 12G

（2）:12

（3）打开文件时输入vim +12 filename

文本中想查看当前行信息，可输入： **Ctrl + g**



参考资料：

* [vim跳转到指定的行](https://blog.csdn.net/u011848617/article/details/38434359)



# 查找

## shift+3查找

vim里按shift+3 就会查找那个词，之后就用黄色背景高亮的显示它。

如果想取消高亮，执行`:nohlsearch`或者`:noh`取消高亮。



参考资料：[vim里按shift+3 就会查找那个词，之后就用黄色背景高亮的显示它，怎么才能取消这黄色呢？](https://zhidao.baidu.com/question/243941.html)



# 注释

## 同时注释多行

> 1、首先，将光标放在要注释的行首，然后按ESC进入命令行模式;
> 2、按Ctrl + V进入 VISUAL BLOCK ；
> 3、按 PgUp/PgDn选择要注释的行；
> 4、按大写的i进入插入模式；
> 5、输入#,按ESC保存即可

## 同时删除多行注释

>1、首先，将光标放在注释的行首，然后按ESC进入命令模式；
>2、按Ctrl + V进入 VISUAL BLOCK；
>3、按PgUp选择要删除的注释行；
>4、按X即可删除第一列#；
>5、如果有多个"#",重复上述步骤





# 参考资料

===

[vim 操作命令大全](https://blog.csdn.net/weixin_37657720/article/details/80645991)